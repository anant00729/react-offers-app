(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/life.882f236d.svg"},24:function(e,t,a){e.exports=a.p+"static/media/app-logo.37bc46d9.png"},25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(21),r=a.n(l),c=(a(30),a(31),a(7)),o=a(11),i=a(13),m=a.n(i),d=a(18),u=a(5);function p(e){return Object(u.a)({},e,{errorMessage:"",isCollected:!1})}var f=function(e,t){var a=t.type,s=t.payload;switch(a){case"SET_SIDE_MENU_OPTIONS":var n=e.sideMenuOptions.map((function(e){return e.isSelected=e.rName===s,e}));return Object(u.a)({},p(e),{sideMenuOptions:Object(d.a)(n)});case"GET_ALL_OFFERS":return Object(u.a)({},p(e),{allOffers:Object(d.a)(s)});case"ADD_OFFER":return Object(u.a)({},p(e),{displayToastGlobal:!0,toastMessage:"Offer Added Successfully"});case"SHOW_ERROR":return Object(u.a)({},e,{errorMessage:s,toastMessage:s,displayToastGlobal:!0});case"DISMISS_ERROR_TOAST":return Object(u.a)({},e,{displayToastGlobal:!1,toastMessage:""});case"SHOW_ERROR_TOAST":return Object(u.a)({},e,{displayToastGlobal:!0,toastMessage:s});case"SHOW_APP_DIALOG":case"DISMISS_APP_DIALOG":return Object(u.a)({},e,{showModal:s});default:return e}},h=a(9),b=function e(t){var a=this;Object(h.a)(this,e),this.setSideMenuButtons=function(e){a.dispatch({type:"SET_SIDE_MENU_OPTIONS",payload:e})},this.setDismissToast=function(){a.dispatch({type:"DISMISS_ERROR_TOAST",payload:""})},this.setShowToast=function(e){a.dispatch({type:"SHOW_ERROR_TOAST",payload:e})},this.setDismissDialog=function(){a.dispatch({type:"DISMISS_APP_DIALOG",payload:"opacity-0 pointer-events-none"})},this.setShowDialog=function(){a.dispatch({type:"SHOW_APP_DIALOG",payload:""})},this.dispatch=t},g=a(10),E=a.n(g),x=a(14),O=function e(t){var a=this;Object(h.a)(this,e),this.addOffer=function(){var e=Object(x.a)(E.a.mark((function e(t){var s,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("offers/addOffer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return s=e.sent,e.next=6,s.json();case 6:n=e.sent,200===s.status?n.status?a.dispatch({type:"ADD_OFFER",payload:{}}):a.dispatch({type:"SHOW_ERROR",payload:"API ERROR : ".concat(n.message)}):a.dispatch({type:"SHOW_ERROR",payload:"HTTP ERROR Code : ".concat(s.status)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.dispatch({type:"SHOW_ERROR",payload:"Error Details ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.dispatch=t},y=function e(t){var a=this;Object(h.a)(this,e),this.getAllOffers=Object(x.a)(E.a.mark((function e(){var t,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("offers/getAllOffers");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,200===t.status?s.status?a.dispatch({type:"GET_ALL_OFFERS",payload:s.offerList}):a.dispatch({type:"SHOW_ERROR",payload:"API ERROR : ".concat(s.message)}):a.dispatch({type:"SHOW_ERROR",payload:"HTTP ERROR Code : ".concat(t.status)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.dispatch({type:"SHOW_ERROR",payload:"Error Details ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),this.dispatch=t},w={sideMenuOptions:[{name:"All Offers",isSelected:!1,rName:"/"},{name:"Add Offer",isSelected:!1,rName:"/add-offer"}],allOffers:[],errorMessage:"",isCollected:!1,displayToastGlobal:!1,toastMessage:"",showModal:"opacity-0 pointer-events-none"},v=Object(s.createContext)(w),N=function(e){var t=e.children,a=Object(s.useReducer)(f,w),l=Object(o.a)(a,2),r=l[0],c=l[1],i=new b(c),m=i.setSideMenuButtons,d=i.setDismissToast,u=i.setShowToast,p=i.setDismissDialog,h=i.setShowDialog,g=new O(c).addOffer,E=new y(c).getAllOffers;return n.a.createElement(v.Provider,{value:{sideMenuOptions:r.sideMenuOptions,allOffers:r.allOffers,setSideMenuButtons:m,getAllOffers:E,addOffer:g,errorMessage:r.errorMessage,isCollected:r.isCollected,displayToastGlobal:r.displayToastGlobal,toastMessage:r.toastMessage,setDismissToast:d,setShowToast:u,showModal:r.showModal,setDismissDialog:p,setShowDialog:h}},t)},S=function(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),l=a[0],r=a[1],c=Object(s.useState)(""),i=Object(o.a)(c,2),d=i[0],u=i[1],p=Object(s.useState)(""),f=Object(o.a)(p,2),h=f[0],b=f[1],g=Object(s.useContext)(v),E=g.addOffer,x=g.setShowToast,O=g.toastMessage,y=g.setSideMenuButtons;return"Offer Added Successfully"===O&&(x("Offer Added Successfully"),y("/"),e.history.push("/")),n.a.createElement("div",null,n.a.createElement("div",{className:"body-main-bar w-full px-8 py-8"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("img",{className:"w-10 h-10 heart-beat",src:m.a,alt:"heart_beat"}),n.a.createElement("p",{className:"text-4xl ml-2 text-white"},"Add Offer")),n.a.createElement("div",null,n.a.createElement("p",{className:"text-alfa"},"Add a new offer for the mocking"))),n.a.createElement("section",{className:"flex app-primary-font text-lg px-5 pb-5 bg-white"},n.a.createElement("section",{className:"w-full flex app-primary-font text-bold text-lg px-5 pb-5 h-screen"},n.a.createElement("div",{className:"w-full pr-3 lg:w-1/2"},n.a.createElement("div",{className:"bg-white rounded shadow-lg overflow-hidden -mt-32"},n.a.createElement("p",{className:"p-4 bg-gray-200 w-full"},"Area Chart Example"),n.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),0===l.length)x("Please enter Offer Title");else if(0===d.length)x("Please enter Offer Description");else{E({offerTitle:l,description:d,mainOfferID:h})}},className:"p-4"},n.a.createElement("div",{className:"mb-4"},n.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Offer ID"),n.a.createElement("input",{value:h,onChange:function(e){return b(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Offer ID"})),n.a.createElement("div",{className:"mb-4"},n.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Title"),n.a.createElement("input",{value:l,onChange:function(e){return r(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Title"})),n.a.createElement("div",{className:"mb-4"},n.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Description"),n.a.createElement("input",{value:d,onChange:function(e){return u(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Description"})),n.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded focus:outline-none focus:shadow-outline text-base",type:"submit"},"Submit")))))))},R=a(6);var j=function(){var e,t=Object(s.useContext)(v),a=t.getAllOffers,l=t.allOffers,r=t.errorMessage,c=t.setShowDialog;return Object(s.useEffect)((function(){a()}),[]),0!=r.length?(e=r,n.a.createElement("div",{class:"h-screen w-full flex justify-center items-center"},n.a.createElement("p",{className:"w-full text-center"},e))):function(e,t){var a=[];return e&&(a=e.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"border px-4 py-2 table-img-width"},n.a.createElement("img",{className:"h-32",src:"https://startbootstrap.com/assets/img/screenshots/premium/sb-admin-pro-angular.jpg",alt:"offer_img"})),n.a.createElement("td",{className:"border px-4 py-2"},e.offerTitle),n.a.createElement("td",{className:"border px-4 py-2"},n.a.createElement("button",{className:"bg-transparent hover:bg-green-500 text-green-700  hover:text-white py-2 px-4 border border-green-500 hover:border-transparent rounded text-sm"},"Edit")),n.a.createElement("td",{className:"border px-4 py-2"},n.a.createElement("button",{className:"bg-transparent hover:bg-red-500 text-red-700  hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded text-sm"},"Delete")),n.a.createElement("td",{className:"border px-4 py-2"},n.a.createElement("img",{onClick:t,className:"h-32 cursor-pointer",src:"http://localhost:8087/".concat(e.offerQrCodePath),alt:"offer_img"})))}))),n.a.createElement("div",null,n.a.createElement("div",{className:"body-main-bar w-full px-8 py-8"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("img",{className:"w-10 h-10 heart-beat",src:m.a,alt:"heart_beat"}),n.a.createElement("p",{className:"text-4xl ml-2 text-white"},"All Offers")),n.a.createElement("div",null,n.a.createElement("p",{className:"text-alfa"},"List of all offers"))),n.a.createElement("section",{className:"flex app-primary-font text-lg px-5 pb-5 bg-white"},n.a.createElement("table",{className:"table-auto rounded -mt-32 bg-white"},n.a.createElement("thead",{className:"bg-gray-200 border-gray-200 border rounded shadow"},n.a.createElement("tr",null,n.a.createElement("td",{className:"px-4 py-2"},"Image"),n.a.createElement("td",{className:"px-4 py-2"},"Title"),n.a.createElement("td",{className:"px-4 py-2"},"Edit"),n.a.createElement("td",{className:"px-4 py-2"},"Delete"),n.a.createElement("td",{className:"px-4 py-2"},"QR Code"))),n.a.createElement("tbody",null,a))))}(l,c)};var T=Object(R.e)((function(e){var t=e.location.pathname,a=Object(s.useContext)(v),l=a.setSideMenuButtons,r=a.sideMenuOptions;Object(s.useEffect)((function(){l(t)}),[]);var o=r.map((function(e,t){return n.a.createElement("div",{key:t},n.a.createElement(c.b,{className:"nav-link  text-white text-center cursor-pointer w-full ",to:e.rName,onClick:function(){return l(e.rName)}},n.a.createElement("div",{className:"py-4 px-6 ".concat(e.isSelected?"side-menu-selected":""," side-navbutton")},e.name)))}));return n.a.createElement("section",{className:"md:w-56 md:h-screen side-top-padding md:visible hidden md:block shadow-2xl side-bar-bg"},o)}));var D=Object(R.e)((function(e){return n.a.createElement("div",null,n.a.createElement("section",{className:"main-body flex"},n.a.createElement(T,null),n.a.createElement("section",{className:"main-body bg-gray-200 w-full h-screen flex-shrink overflow-auto pt-14"},n.a.createElement(R.a,{exact:!0,path:"/",component:j}),n.a.createElement(R.a,{exact:!0,path:"/add-offer",component:S}))))})),M=a(24),_=a.n(M),A=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"fixed top-bar w-full shadow-md h-14 top-bar-bg"},n.a.createElement("div",{className:"w-48 h-full flex items-center"},n.a.createElement("img",{className:"object-cover w-8 h-8 ml-4 mt-1 shadow-lg rounded-full",src:_.a,alt:"app_logo"}),n.a.createElement("p",{className:"ml-4 text-white text-lg text-bold"},"Dashboard"))))},k=function(){var e=Object(s.useContext)(v),t=e.displayToastGlobal,a=e.setDismissToast,l=e.toastMessage;return Object(s.useEffect)((function(){t&&setTimeout((function(){a()}),2500)}),[t]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"snackbar",className:"".concat(t?"show":"")},l))},C=function(){var e=Object(s.useContext)(v),t=e.showModal,a=e.setDismissDialog;function l(e){27===e.keyCode&&a()}return Object(s.useEffect)((function(){document.addEventListener("keydown",l,!1)}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"modal fixed w-full h-full top-0 left-0 flex items-center justify-center ".concat(t)},n.a.createElement("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"}),n.a.createElement("div",{className:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto"},n.a.createElement("div",{className:"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50"},n.a.createElement("svg",{className:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},n.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})),n.a.createElement("span",{className:"text-sm"},"(Esc)")),n.a.createElement("div",{className:"modal-content py-4 text-left px-6"},n.a.createElement("div",{className:"flex justify-between items-center pb-3"},n.a.createElement("p",{className:"text-2xl font-bold"},"Simple Modal!"),n.a.createElement("div",{className:"modal-close cursor-pointer z-50"},n.a.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},n.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})))),n.a.createElement("p",null,"Modal content can go here"),n.a.createElement("div",{className:"flex justify-end pt-2"},n.a.createElement("button",{className:"px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"},"Action"),n.a.createElement("button",{onClick:a,className:"modal-close px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400"},"Close"))))))};var I=function(){return n.a.createElement(N,null,n.a.createElement(c.a,null,n.a.createElement(A,null),n.a.createElement(D,null),n.a.createElement(k,null),n.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.6e411b0b.chunk.js.map