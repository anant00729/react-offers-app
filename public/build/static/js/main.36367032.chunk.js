(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/life.882f236d.svg"},24:function(e,t,a){e.exports=a.p+"static/media/app-logo.37bc46d9.png"},25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),n=a(21),r=a.n(n),o=(a(30),a(31),a(7)),c=a(11),i=a(13),m=a.n(i),d=a(18),u=a(4),f="opacity-0 pointer-events-none";function p(e){return Object(u.a)({},e,{errorMessage:"",isCollected:!1})}var h=function(e,t){var a=t.type,s=t.payload;switch(a){case"SET_SIDE_MENU_OPTIONS":var l=e.sideMenuOptions.map((function(e){return e.isSelected=e.rName===s,e}));return Object(u.a)({},p(e),{sideMenuOptions:Object(d.a)(l)});case"GET_ALL_OFFERS":return Object(u.a)({},p(e),{allOffers:Object(d.a)(s)});case"ADD_OFFER":return Object(u.a)({},p(e),{displayToastGlobal:!0,toastMessage:"Offer Added Successfully"});case"SHOW_ERROR":return Object(u.a)({},e,{errorMessage:s,toastMessage:s,displayToastGlobal:!0});case"DISMISS_ERROR_TOAST":return Object(u.a)({},e,{displayToastGlobal:!1,toastMessage:""});case"SHOW_ERROR_TOAST":return Object(u.a)({},e,{displayToastGlobal:!0,toastMessage:s});case"SHOW_APP_DIALOG":case"DISMISS_APP_DIALOG":return Object(u.a)({},e,{showModal:s});case"SHOW_IMG_DIALOG":console.log("payload SHOW_IMG_DIALOG",s);var n=Object(u.a)({},e,{showImageModal:s.payload,selectedOffer:s.offer});return console.log("changedState",n),n;case"DISMISS_IMG_DIALOG":return console.log("payload DISMISS_IMG_DIALOG",s),Object(u.a)({},e,{showImageModal:s.payload,selectedOffer:{}});default:return e}},g=a(9),b=function e(t){var a=this;Object(g.a)(this,e),this.setSideMenuButtons=function(e){a.dispatch({type:"SET_SIDE_MENU_OPTIONS",payload:e})},this.setDismissToast=function(){a.dispatch({type:"DISMISS_ERROR_TOAST",payload:""})},this.setShowToast=function(e){a.dispatch({type:"SHOW_ERROR_TOAST",payload:e})},this.setDismissDialog=function(){a.dispatch({type:"DISMISS_APP_DIALOG",payload:f})},this.setShowDialog=function(){a.dispatch({type:"SHOW_APP_DIALOG",payload:""})},this.dismissImageDialog=function(){var e={payload:f,offer:{}};a.dispatch({type:"DISMISS_IMG_DIALOG",payload:e})},this.showImageDialog=function(e){var t={payload:"",offer:e};console.log("payload",t),a.dispatch({type:"SHOW_IMG_DIALOG",payload:t})},this.dispatch=t},E=a(10),x=a.n(E),w=a(14),O=function e(t){var a=this;Object(g.a)(this,e),this.addOffer=function(){var e=Object(w.a)(x.a.mark((function e(t){var s,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("offers/addOffer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return s=e.sent,e.next=6,s.json();case 6:l=e.sent,200===s.status?l.status?a.dispatch({type:"ADD_OFFER",payload:{}}):a.dispatch({type:"SHOW_ERROR",payload:"API ERROR : ".concat(l.message)}):a.dispatch({type:"SHOW_ERROR",payload:"HTTP ERROR Code : ".concat(s.status)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.dispatch({type:"SHOW_ERROR",payload:"Error Details ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.dispatch=t},y=function e(t){var a=this;Object(g.a)(this,e),this.getAllOffers=Object(w.a)(x.a.mark((function e(){var t,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("offers/getAllOffers");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,200===t.status?s.status?a.dispatch({type:"GET_ALL_OFFERS",payload:s.offerList}):a.dispatch({type:"SHOW_ERROR",payload:"API ERROR : ".concat(s.message)}):a.dispatch({type:"SHOW_ERROR",payload:"HTTP ERROR Code : ".concat(t.status)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.dispatch({type:"SHOW_ERROR",payload:"Error Details ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),this.dispatch=t},v={sideMenuOptions:[{name:"All Offers",isSelected:!1,rName:"/"},{name:"Add Offer",isSelected:!1,rName:"/add-offer"}],allOffers:[],selectedOffer:{},errorMessage:"",isCollected:!1,displayToastGlobal:!1,toastMessage:"",showModal:f,showImageModal:f},N=Object(s.createContext)(v),S=function(e){var t=e.children,a=Object(s.useReducer)(h,v),n=Object(c.a)(a,2),r=n[0],o=n[1],i=new b(o),m=i.setSideMenuButtons,d=i.setDismissToast,u=i.setShowToast,f=i.setDismissDialog,p=i.setShowDialog,g=i.dismissImageDialog,E=i.showImageDialog,x=new O(o).addOffer,w=new y(o).getAllOffers;return l.a.createElement(N.Provider,{value:{sideMenuOptions:r.sideMenuOptions,allOffers:r.allOffers,setSideMenuButtons:m,getAllOffers:w,addOffer:x,selectedOffer:r.selectedOffer,errorMessage:r.errorMessage,isCollected:r.isCollected,displayToastGlobal:r.displayToastGlobal,toastMessage:r.toastMessage,setDismissToast:d,setShowToast:u,showModal:r.showModal,showImageModal:r.showImageModal,setDismissDialog:f,setShowDialog:p,dismissImageDialog:g,showImageDialog:E}},t)},D=function(e){var t=Object(s.useState)(""),a=Object(c.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(""),i=Object(c.a)(o,2),d=i[0],u=i[1],f=Object(s.useState)(""),p=Object(c.a)(f,2),h=p[0],g=p[1],b=Object(s.useContext)(N),E=b.addOffer,x=b.setShowToast,w=b.toastMessage,O=b.setSideMenuButtons;return"Offer Added Successfully"===w&&(x("Offer Added Successfully"),O("/"),e.history.push("/")),l.a.createElement("div",null,l.a.createElement("div",{className:"body-main-bar w-full px-8 py-8"},l.a.createElement("div",{className:"flex items-center"},l.a.createElement("img",{className:"w-10 h-10 heart-beat",src:m.a,alt:"heart_beat"}),l.a.createElement("p",{className:"text-4xl ml-2 text-white"},"Add Offer")),l.a.createElement("div",null,l.a.createElement("p",{className:"text-alfa"},"Add a new offer for the mocking"))),l.a.createElement("section",{className:"flex app-primary-font text-lg px-5 pb-5 bg-white"},l.a.createElement("section",{className:"w-full flex app-primary-font text-bold text-lg px-5 pb-5 h-screen"},l.a.createElement("div",{className:"w-full pr-3 lg:w-1/2"},l.a.createElement("div",{className:"bg-white rounded shadow-lg overflow-hidden -mt-32"},l.a.createElement("p",{className:"p-4 bg-gray-200 w-full"},"Area Chart Example"),l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),0===h.length)x("Please enter Offer ID");else if(0===n.length)x("Please enter Offer Title");else if(0===d.length)x("Please enter Offer Description");else{E({offerTitle:n,description:d,mainOfferID:h})}},className:"p-4"},l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Offer ID"),l.a.createElement("input",{value:h,onChange:function(e){return g(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Offer ID"})),l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Title"),l.a.createElement("input",{value:n,onChange:function(e){return r(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Title"})),l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username"},"Description"),l.a.createElement("input",{value:d,onChange:function(e){return u(e.target.value)},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Description"})),l.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded focus:outline-none focus:shadow-outline text-base",type:"submit"},"Submit")))))))},M=a(6);var I=function(){var e,t=Object(s.useContext)(N),a=t.getAllOffers,n=t.allOffers,r=t.errorMessage,o=t.showImageDialog;return Object(s.useEffect)((function(){a()}),[]),0!=r.length?(e=r,l.a.createElement("div",{class:"h-screen w-full flex justify-center items-center"},l.a.createElement("p",{className:"w-full text-center"},e))):function(e,t){var a=[];return e&&(a=e.map((function(e,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",{className:"border px-4 py-2 table-img-width"},l.a.createElement("img",{className:"h-32",src:"https://startbootstrap.com/assets/img/screenshots/premium/sb-admin-pro-angular.jpg",alt:"offer_img"})),l.a.createElement("td",{className:"border px-4 py-2"},e.offerTitle),l.a.createElement("td",{className:"border px-4 py-2"},l.a.createElement("button",{className:"bg-transparent hover:bg-green-500 text-green-700  hover:text-white py-2 px-4 border border-green-500 hover:border-transparent rounded text-sm"},"Edit")),l.a.createElement("td",{className:"border px-4 py-2"},l.a.createElement("button",{className:"bg-transparent hover:bg-red-500 text-red-700  hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded text-sm"},"Delete")),l.a.createElement("td",{className:"border px-4 py-2 table-qr-width"},l.a.createElement("img",{onClick:function(){return t(e)},className:"h-32 cursor-pointer",src:"http://localhost:8087".concat(e.offerQrCodePath),alt:"offer_img"})))}))),l.a.createElement("div",null,l.a.createElement("div",{className:"body-main-bar w-full px-8 py-8"},l.a.createElement("div",{className:"flex items-center"},l.a.createElement("img",{className:"w-10 h-10 heart-beat",src:m.a,alt:"heart_beat"}),l.a.createElement("p",{className:"text-4xl ml-2 text-white"},"All Offers")),l.a.createElement("div",null,l.a.createElement("p",{className:"text-alfa"},"List of all offers"))),l.a.createElement("section",{className:"flex app-primary-font text-lg px-5 pb-5 bg-white"},l.a.createElement("table",{className:"table-auto rounded -mt-32 bg-white"},l.a.createElement("thead",{className:"bg-gray-200 border-gray-200 border rounded shadow"},l.a.createElement("tr",null,l.a.createElement("td",{className:"px-4 py-2"},"Image"),l.a.createElement("td",{className:"px-4 py-2"},"Title"),l.a.createElement("td",{className:"px-4 py-2"},"Edit"),l.a.createElement("td",{className:"px-4 py-2"},"Delete"),l.a.createElement("td",{className:"px-4 py-2"},"QR Code"))),l.a.createElement("tbody",null,a))))}(n,o)};var _=Object(M.e)((function(e){var t=e.location.pathname,a=Object(s.useContext)(N),n=a.setSideMenuButtons,r=a.sideMenuOptions;Object(s.useEffect)((function(){n(t)}),[]);var c=r.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(o.b,{className:"nav-link  text-white text-center cursor-pointer w-full ",to:e.rName,onClick:function(){return n(e.rName)}},l.a.createElement("div",{className:"py-4 px-6 ".concat(e.isSelected?"side-menu-selected":""," side-navbutton")},e.name)))}));return l.a.createElement("section",{className:"md:w-56 md:h-screen side-top-padding md:visible hidden md:block shadow-2xl side-bar-bg"},c)}));var j=Object(M.e)((function(e){return l.a.createElement("div",null,l.a.createElement("section",{className:"main-body flex"},l.a.createElement(_,null),l.a.createElement("section",{className:"main-body bg-gray-200 w-full h-screen flex-shrink overflow-auto pt-14"},l.a.createElement(M.a,{exact:!0,path:"/",component:I}),l.a.createElement(M.a,{exact:!0,path:"/add-offer",component:D}))))})),R=a(24),T=a.n(R),A=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"fixed top-bar w-full shadow-md h-14 top-bar-bg"},l.a.createElement("div",{className:"w-48 h-full flex items-center"},l.a.createElement("img",{className:"object-cover w-8 h-8 ml-4 mt-1 shadow-lg rounded-full",src:T.a,alt:"app_logo"}),l.a.createElement("p",{className:"ml-4 text-white text-lg text-bold"},"Dashboard"))))},L=function(){var e=Object(s.useContext)(N),t=e.displayToastGlobal,a=e.setDismissToast,n=e.toastMessage;return Object(s.useEffect)((function(){t&&setTimeout((function(){a()}),2500)}),[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"snackbar",className:"".concat(t?"show":"")},n))},k=function(){var e=Object(s.useContext)(N),t=e.showModal,a=e.setDismissDialog;function n(e){27===e.keyCode&&a()}return Object(s.useEffect)((function(){document.addEventListener("keydown",n,!1)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal fixed w-full h-full top-0 left-0 flex items-center justify-center ".concat(t)},l.a.createElement("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"}),l.a.createElement("div",{className:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto"},l.a.createElement("div",{className:"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50"},l.a.createElement("svg",{className:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},l.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})),l.a.createElement("span",{className:"text-sm"},"(Esc)")),l.a.createElement("div",{className:"modal-content py-4 text-left px-6"},l.a.createElement("div",{className:"flex justify-between items-center pb-3"},l.a.createElement("p",{className:"text-2xl font-bold"},"Simple Modal!"),l.a.createElement("div",{className:"modal-close cursor-pointer z-50"},l.a.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},l.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})))),l.a.createElement("p",null,"Modal content can go here"),l.a.createElement("div",{className:"flex justify-end pt-2"},l.a.createElement("button",{className:"px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"},"Action"),l.a.createElement("button",{onClick:a,className:"modal-close px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400"},"Close"))))))},C=function(){var e=Object(s.useContext)(N),t=e.showImageModal,a=e.dismissImageDialog,n=e.selectedOffer,r=n.offerTitle,o=n.offerQrCodePath;function c(e){27===e.keyCode&&a()}return Object(s.useEffect)((function(){document.addEventListener("keydown",c,!1)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal fixed w-full h-full top-0 left-0 flex items-center justify-center ".concat(t)},l.a.createElement("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"}),l.a.createElement("div",{className:"modal-container bg-white max-w-2xl mx-auto rounded shadow-lg z-50 overflow-y-auto"},l.a.createElement("div",{onClick:a,className:"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50"},l.a.createElement("svg",{className:"fill-current text-white",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},l.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})),l.a.createElement("span",{className:"text-sm"},"(Esc)")),l.a.createElement("div",{className:"modal-content py-4 text-left px-6"},l.a.createElement("div",{className:"flex justify-between items-center pb-3"},l.a.createElement("p",{className:"text-2xl font-bold"},r),l.a.createElement("div",{onClick:a,className:"modal-close cursor-pointer z-50"},l.a.createElement("svg",{className:"fill-current text-black",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},l.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})))),l.a.createElement("img",{className:"w-56 mx-auto",src:"http://localhost:8087".concat(o),alt:"image_dailog"}),l.a.createElement("div",{className:"flex justify-end pt-2"})))))};var G=function(){return l.a.createElement(S,null,l.a.createElement(o.a,null,l.a.createElement(A,null),l.a.createElement(j,null),l.a.createElement(L,null),l.a.createElement(k,null),l.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.36367032.chunk.js.map